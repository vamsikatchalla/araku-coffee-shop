<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Notes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <title>Smart Notes</title>
    <style>
       
        

        #response {
            margin-top: 20px;
            padding: 10px;
            min-height: 50px;
            color:white;
        }
        #response h3 {
            color: #fff6f6;
            font-size: 1.2em;
        }
        #response strong {
            color: #16ff58;
        }
        #response ul {
            padding-left: 20px;
        }
        #response li {
            margin-bottom: 5px;
        }
        input[type="text"] {
            background-color: bisque;
        }
        .logo {
  font-size:3rem;
  color: rgb(239, 4, 165);
  font-weight:800;
  cursor:pointer;
  transition:scale(1.1);
  margin-right:60px;


}
.logo:hover {
  transform:scale(1.1);
  color: gold;
}
span {
  color:rgb(7, 247, 227);
}
      
    </style>
</head>
<body style="background-color: #140d0d;">
    <div class="container">


      <img style="
        height:70px;margin-left: 230px;
         margin-top: -45px;
         border-radius: 20px; 
         margin-bottom:-28px;
         margin-right: 10px;
        " src="logo.webp">


        <a href="#" class="logo">AI<span>Summarizer</span></a>

        <p style="
        color:rgb(127, 247, 7);
        line-height: 30px;
        font-weight: 100px;
        font-family: 'Orbitron';
        text-align: center;
        font-size: 22px;
        margin-top:35px;
       
        ">  Welcome to AI-Powered Smart Notes, your smart study companion! <br>This tool helps you quickly summarize notes, answer questions, and organize information easily.<br></p>

        <h1 style="color: whitesmoke;
        font-family: 'Inter', sans-serif;
        font-weight: 780;
        text-align: center;
        font-size: 20px;">Just upload a document, image, or even use voice input, and let AI do the work for you.</h1>
         <h2 style="color:rgb(208, 193, 193);
         text-align: center;
         font-weight: bold;
         font-size: 40px;
         margin-bottom: 50px;">Get started and make your note-taking smarter!</h2>
        
        <div class="form-group">
            <input type="text" style="
            padding-top:20px;
            padding-bottom:20px;
            padding-left: 30px;
            padding-right: 40px;
            border-radius: 25px;
            width:400px;  
             " class="form-control" id="userInput" placeholder="Message to AI-powered Smart Notes">
        </div>
        <button class="btn btn-success" onclick="sendMessage()"><i class="fas fa-paper-plane"></i> üöÄAsk!</button>
        <input type="file" style="  padding-top:10px;
        padding-bottom:35px;
        padding-left: 30px;
        padding-right: 40px;
        border-radius: 25px;
        width:400px;" id="fileInput" class="form-control mt-2" accept=".txt">
        
        <button class="btn btn-info mt-2" onclick="uploadNotes()">üìÇUpload Notes</button>
        <input type="file" style=" 
        padding-top:10px;
        padding-bottom:35px;
        padding-left: 30px;
        padding-right: 40px;
        border-radius: 25px;
        width:400px; " id="imageInput" class="form-control mt-2" accept="image/*">
        <button class="btn btn-warning mt-2" onclick="uploadImage()">üèûAdd Image</button>
        <button class="btn btn-primary mt-2" onclick="voiceSearch()">üé§Voice Search</button>
        <div id="response"></div>
    </div>
    <script>
        async function sendMessage() {
            const input = document.getElementById('userInput').value;
            processRequest(input);
        }
        
        async function uploadNotes() {
            const file = document.getElementById('fileInput').files[0];
            if (!file) return alert('Please select a text file.');
            const reader = new FileReader();
            reader.onload = async function(event) {
                processRequest(`Summarize this: ${event.target.result}`);
            };
            reader.readAsText(file);
        }
        
        async function uploadImage() {
            const file = document.getElementById('imageInput').files[0];
            if (!file) return alert('Please select an image.');
            const reader = new FileReader();
            reader.onload = async function(event) {
                const base64Image = event.target.result;
                processRequest(`Describe this image: ${base64Image}`);
            };
            reader.readAsDataURL(file);
        }
        
        async function voiceSearch() {
            const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'en-US';
            recognition.start();
            recognition.onresult = function(event) {
                document.getElementById('userInput').value = event.results[0][0].transcript;
                sendMessage();
            };
        }
        
        async function processRequest(input) {
            const responseDiv = document.getElementById('response');
            if (!input) {
                responseDiv.innerHTML = 'Please enter a message.';
                return;
            }
            responseDiv.innerHTML = 'Loading...';
            try {
                const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        Authorization: 'Bearer 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',
                        'HTTP-Referer': 'https://www.webstylepress.com',
                        'X-Title': 'WebStylePress',
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        model: 'deepseek/deepseek-r1:free',
                        messages: [{ role: 'user', content: input }],
                    }),
                });
                const data = await response.json();
                const markdownText = data.choices?.[0]?.message?.content || 'No response received.';
                responseDiv.innerHTML = marked.parse(markdownText);
            } catch (error) {
                responseDiv.innerHTML = 'Error: ' + error.message;
            }
        }
    </script>
</body>
</html>
